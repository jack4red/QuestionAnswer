(function(){var s,A,B,p,C,t,q,u,D,v,E,f,F,G,H,I,J,w,K,L,M,k,N,O,P,g,Q,R,S,r,T,U,V,x,l,W,y,X,Y,h,n,c,aa={}.hasOwnProperty,ba=[].indexOf||function(a){for(var b=0,e=this.length;b<e;b++)if(b in this&&this[b]===a)return b;return-1};q=10;k=r=f=null;g={};v=null;y=(null!=(p=document.cookie.match(/request_method=(\w+)/))?p[1].toUpperCase():void 0)||"";c=null;J=function(a){var b;h("page:fetch");b=l(a);null!=c&&c.abort();c=new XMLHttpRequest;c.open("GET",b,!0);c.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml");
c.setRequestHeader("X-XHR-Referer",r);c.onload=function(){var b;h("page:receive");return(b=R())?(T(a),u.apply(null,H(b)),U(),document.location.hash?document.location.href=document.location.href:X(),h("page:load")):document.location.href=a};c.onloadend=function(){return c=null};c.onabort=function(){return x()};c.onerror=function(){return document.location.href=a};return c.send()};I=function(a){t();a=g[a];null!=c&&c.abort();u(a.title,a.body);S(a);return h("page:restore")};t=function(){g[f.position]=
{url:document.location.href,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset};return D(q)};D=function(a){for(var b in g)aa.call(g,b)&&b<=f.position-a&&(g[b]=null)};u=function(a,b,e,d){document.title=a;document.documentElement.replaceChild(b,document.body);null!=e&&s.update(e);W();d&&F();f=window.history.state;return h("page:change")};F=function(){var a,b,e,d,z,c,Z,m,$,f;z=Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval="false"])'));
c=0;for(Z=z.length;c<Z;c++)if(d=z[c],""===($=d.type)||"text/javascript"===$){b=document.createElement("script");f=d.attributes;e=0;for(m=f.length;e<m;e++)a=f[e],b.setAttribute(a.name,a.value);b.appendChild(document.createTextNode(d.innerHTML));e=d.parentNode;a=d.nextSibling;e.removeChild(d);e.insertBefore(b,a)}};W=function(){var a,b,c,d;b=Array.prototype.slice.call(document.body.getElementsByTagName("noscript"));c=0;for(d=b.length;c<d;c++)a=b[c],a.parentNode.removeChild(a)};T=function(a){if(a!==r)return window.history.pushState({turbolinks:!0,
position:f.position+1},"",a)};U=function(){var a,b;if(a=c.getResponseHeader("X-XHR-Redirected-To"))return b=l(a)===a?document.location.hash:"",window.history.replaceState(f,"",a+b)};x=function(){return window.history.replaceState({turbolinks:!0,position:Date.now()},"",document.location.href)};V=function(){return f=window.history.state};S=function(a){return window.scrollTo(a.positionX,a.positionY)};X=function(){return window.scrollTo(0,0)};l=function(a){var b;b=a;null==a.href&&(b=document.createElement("A"),
b.href=a);return b.href.replace(b.hash,"")};h=function(a){var b;b=document.createEvent("Events");b.initEvent(a,!0,!0);return document.dispatchEvent(b)};Q=function(){return!h("page:before-change")};R=function(){var a,b,e,d;b=function(){return c.getResponseHeader("Content-Type").match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)};e=function(a){var b,c,m,d;m=a.head.childNodes;d=[];b=0;for(c=m.length;b<c;b++)a=m[b],null!=("function"===typeof a.getAttribute?a.getAttribute("data-turbolinks-track"):
void 0)&&d.push(a.src||a.href);return d};a=function(a){k||(k=e(document));a=e(a);return a.length!==k.length||d(a,k).length!==k.length};d=function(a,b){var c,d,e,f;a.length>b.length&&(c=[b,a],a=c[0],b=c[1]);f=[];d=0;for(e=a.length;d<e;d++)c=a[d],0<=ba.call(b,c)&&f.push(c);return f};if(!function(){var a;return 400<=(a=c.status)&&600>a}()&&b()&&(b=v(c.responseText))&&!a(b))return b};H=function(a){var b;b=a.querySelector("title");return[null!=b?b.textContent:void 0,a.body,s.get(a).token,"runScripts"]};
s={get:function(a){var b;null==a&&(a=document);return{node:b=a.querySelector('meta[name="csrf-token"]'),token:null!=b?"function"===typeof b.getAttribute?b.getAttribute("content"):void 0:void 0}},update:function(a){var b;b=this.get();if(null!=b.token&&null!=a&&b.token!==a)return b.node.setAttribute("content",a)}};B=function(){var a,b,c,d,f;b=function(a){return(new DOMParser).parseFromString(a,"text/html")};a=function(a){var b;b=document.implementation.createHTMLDocument("");b.documentElement.innerHTML=
a;return b};c=function(a){var b;b=document.implementation.createHTMLDocument("");b.open("replace");b.write(a);b.close();return b};try{if(window.DOMParser)return d=b("<html><body><p>test"),b}catch(g){return d=a("<html><body><p>test"),a}finally{if(1!==(null!=d?null!=(f=d.body)?f.childNodes.length:void 0:void 0))return c}};M=function(a){if(!a.defaultPrevented)return document.removeEventListener("click",w,!1),document.addEventListener("click",w,!1)};w=function(a){var b;if(!a.defaultPrevented&&(b=G(a),
"A"===b.nodeName&&!K(a,b)))return Q()||n(b.href),a.preventDefault()};G=function(a){for(a=a.target;a.parentNode&&"A"!==a.nodeName;)a=a.parentNode;return a};E=function(a){return location.protocol!==a.protocol||location.host!==a.host};A=function(a){return(a.hash&&l(a))===l(location)||a.href===location.href+"#"};O=function(a){a=l(a);return a.match(/\.[a-z]+(\?.*)?$/g)&&!a.match(/\.html?(\?.*)?$/g)};N=function(a){for(var b;!b&&a!==document;)b=null!=a.getAttribute("data-no-turbolink"),a=a.parentNode;return b};
Y=function(a){return 0!==a.target.length};P=function(a){return 1<a.which||a.metaKey||a.ctrlKey||a.shiftKey||a.altKey};K=function(a,b){return E(b)||A(b)||O(b)||N(b)||Y(b)||P(a)};L=function(){x();V();v=B();document.addEventListener("click",M,!0);return window.addEventListener("popstate",function(a){var b;b=a.state;if(null!=b&&b.turbolinks)return g[b.position]?I(b.position):n(a.target.location.href)},!1)};C=window.history&&window.history.pushState&&window.history.replaceState&&void 0!==window.history.state;
p=!navigator.userAgent.match(/CriOS\//);C&&p&&("GET"===y||""===y)?(n=function(a){r=document.location.href;t();return J(a)},L()):n=function(a){return document.location.href=a};this.Turbolinks={visit:n,pagesCached:function(a){null==a&&(a=q);if(/^[\d]+$/.test(a))return q=parseInt(a)}}}).call(this);
//# sourceMappingURL=turbolinks.min.map
